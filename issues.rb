move isGap functions to Gem class